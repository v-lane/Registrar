@page "/"
@inject NavigationManager Nav
@rendermode InteractiveServer


<PageTitle>Students</PageTitle>

<header class="d-flex justify-content-between">
    <h1>Students</h1>
    <Button OnClick="NavigateToNewStudent" ButtonName="+" ButtonStyle="btn-info"></Button>
</header>

<table class="table text-center align-middle">
    <thead>
    <tr class="table-secondary">
        <th scope="col">Id</th>
        <th scope="col">First Name</th>
        <th scope="col">Last Name</th>
        <th scope="col">Type</th>
        <th scope="col">Action</th>
    </tr>
    </thead>
    <tbody>
    
    @foreach (var student in students)
    {
        var rowColor = RowCount % 2 == 0 ? "table-info" : "table-light";
        <tr class=@rowColor>
            <Student StudentData=student />
        </tr>
        RowCount += 1;
    }

    </tbody>
</table>

@code {
    private int RowCount { get; set; } = 0;
    
    private List<Registrar.Student> students = Helper.GetStudents();

    private void NavigateToNewStudent()
    {
        Nav.NavigateTo("/newstudent");
    }

}